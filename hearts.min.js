!function(a,b){function f(a){for(var c=1;c<arguments.length;c++){var d=arguments[c];for(var e in d)a[e]===b&&(a[e]=d[e])}return a}function g(){var a=c.createElement("div");a.className="heart-container";var b=c.createElement("div");return b.className="heart",b.innerHTML="&hearts;",a.appendChild(b),[a,b]}function h(){if(!c.getElementById("heartsCSSfile")){var a=c.createElement("link"),b={id:"heartsCSSfile",rel:"stylesheet",type:"text/css",href:"//rfreebern.github.com/Falling-in-Love/hearts.min.css",media:"screen"};for(p in b)a[p]=b[p];c.getElementsByTagName("head")[0].appendChild(a)}}function i(a){var b=a.lastChild;while(b&&b.className!=="hearts")b=b.previousSibling;return b}function j(a,b){return a+Math.random()*(b-a)}function k(a){var b={x:a.offsetLeft,y:a.offsetTop};while(a=a.offsetParent)b.x+=a.offsetLeft,b.y+=a.offsetTop;return b}function l(b){var d=b.offsetHeight;return b===c.documentElement&&(d=Math.max(c.documentElement.offsetHeight,c.documentElement.clientHeight,c.documentElement.scrollHeight,a.innerHeight)),d}var c=a.document,d=function(a){if(!this.go)return new d(a);f(this,a||{},e),h(),this.go()},e={element:c.documentElement,zIndex:-999999,maxHearts:12,newHeartDelay:600,colors:["red","deeppink","blueviolet","fuchsia","orchid"],minOpacity:.2,maxOpacity:1,minScale:.4,maxScale:2.4,minDuration:4,maxDuration:18,endAfterNumHearts:0,endAfterNumSeconds:0},m=!1,n=0,o=!1;d.prototype.stop=function(a){clearTimeout(m);if(a)this.element.removeChild(i(this.element));else{var b=this;setTimeout(function(){b.element.removeChild(i(b.element))},this.maxDuration*1e3+1e3)}},d.prototype.go=function(){var a=this;if(this.endAfterNumSeconds>0&&o&&(new Date).getTime()>=o+this.endAfterNumSeconds*1e3||this.endAfterNumHearts>0&&n>=this.endAfterNumHearts)return this.stop();var b=i(this.element),d=l(this.element);if(!b){o=(new Date).getTime(),b=c.createElement("div");var e=k(this.element),f={width:this.element.offsetWidth+"px",height:d+"px",top:e.y+"px",left:e.x+"px",zIndex:this.zIndex};for(p in f)b.style[p]=f[p];b.className="hearts",this.element.appendChild(b)}d!==b.style.height.replace("px","")&&(b.style.height=d+"px");if(b.childNodes.length>=this.maxHearts)return setTimeout(function(){a.go()},a.newHeartDelay);var h=g(),q=["swing","twirl"],r=q[Math.round(Math.random()*(q.length-1))],s=this.colors,t=this.colors[Math.round(Math.random()*(this.colors.length-1))];h[1].style.color=t,h[1].style.opacity=j(this.minOpacity,this.maxOpacity),h[0].style.left=15+Math.random()*(b.scrollWidth-30)+"px";for(v in{"":1,Moz:1,Webkit:1,O:1,ms:1})h[1].style[v+"AnimationName"]=r,h[0].style[v+"AnimationDuration"]=j(this.minDuration,this.maxDuration)+"s",h[0].style[v+"Transform"]="scale("+j(this.minScale,this.maxScale)+")";b.appendChild(h[0]),n++,h[0].addEventListener("animationend",function(){b.removeChild(h[0])});for(v in{webkit:1,o:1,MS:1})h[0].addEventListener(v+"AnimationEnd",function(){b.removeChild(h[0])});m=setTimeout(function(){a.go()},a.newHeartDelay)},a.Hearts=d}(window)